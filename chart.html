<html>
  <head>
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <title>Song DB</title>
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="design.css">
  </head>
  
  <body>
  <!-- NAVBAR -->
  <nav id="navbar-example2" class="navbar navbar-light bg-light">
  <a class="navbar-brand" href="">2020 Covid Dashboard</a>
  <ul class="nav nav-pills">
    <li class="nav-item">
      <a class="nav-link" href="#mdo">johnathantpringle@gmail.com</a>
    </li>
    <li class="nav-item dropdown">
      <a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false">Dropdown</a>
      <div class="dropdown-menu">
        <a class="dropdown-item" href="#one">In Progress</a>
      </div>
    </li>
  </ul>
</nav>
  
  
  
  <!--day dropdown-->
  <div class="row justify-content-md-center">
  <div>
  <label>Days</label>
  <select id="days">
  <option>5</option>
  <option>10</option>
  <option>15</option>
  <option>20</option>
  <option>30</option>
  <option>100</option>
  </select>
  </div>
    <div class="row justify-content-md-center"id="chart" style="width: 1000px; height: 400px;"></div>
    <script type="text/javascript">
      google.charts.load('current', {'packages':['bar']});
      google.charts.setOnLoadCallback(getCovidData);
      
      //get data from gs file
      var covidData;
      
      function getCovidData(){
      google.script.run.withSuccessHandler(setData).getCovidData();
 
      }
      
      function setData(dataReturned){
      covidData = dataReturned.slice();
      drawChart(covidData, 5);
      }
      
      function reloadChartForDay(){
      var days = document.getElementById('days').value;
      var intDays = parseInt(days);
      drawChart(covidData,intDays);
      }
      
      function drawChart(dataReturned,days) {
      //limiting the results sent to chart (0,5) = first 5 rows
     var dataForChart = dataReturned.slice(0 - days);
     dataForChart.unshift(["Cases Over The Past " + days + " Days","Tests","Cases","Deaths"]);
     
        var data = google.visualization.arrayToDataTable(dataForChart);

        var options = {
          chart: {
            title: 'Illinois Coronavirus 2010 Results',
            subtitle: 'Tests, Cases & Deaths',
          },
          series: {
            0: { axis: 'people' },
            1: { axis: 'people' },
            2: { axis: 'people' }
          },
           axes: {
            y: {
             people: {label: 'Number of People'}, // Left y-axis.
            }
          }
        };

        var chart = new google.charts.Bar(document.getElementById('chart'));

        chart.draw(data, google.charts.Bar.convertOptions(options));
      }
      //assign event listeners
      document.getElementById('days').addEventListener("change",reloadChartForDay);
    </script>
    </div>
    
    
  </body>
</html>

    </div>



    
 <script src="https://code.jquery.com/jquery-1.12.4.js" integrity="sha256-Qw82+bXyGq6MydymqBxNPYTaUXXq7c8v3CwiYwLLNXU=" crossorigin="anonymous"></script>
 <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script>

 </body>
 </html>

